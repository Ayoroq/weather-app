(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],d=r.base?s[0]+r.base:s[0],l=a[d]||0,p="".concat(d," ").concat(l);a[d]=l+1;var m=t(p),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==m)n[m].references++,n[m].updater(u);else{var h=o(u,r);r.byIndex=c,n.splice(c,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=t(a[i]);n[c].references--}for(var s=r(e,o),d=0;d<a.length;d++){var l=t(a[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}a=s}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},208:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,':root {\n  --main-colour: #ededed;\n}\n\nbody {\n  background-color: var(--main-colour);\n  font-family: "IBM Plex Mono", monospace;\n  font-weight: 400;\n  font-style: normal;\n}\n\n.glassy {\n  background: #ededed;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(0.2px);\n}\n\n.container {\n  min-height: 100vh;\n  width: 1000px;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  margin: 2rem auto;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n}\n\n.logo {\n  font-size: 3rem;\n  align-self: end;\n  font-family: "JetBrains Mono", "Roboto Mono", "Consolas", monospace;\n}\n\na {\n  text-decoration: none;\n  color: black;\n}\n\n.nav {\n  display: flex;\n  align-items: end;\n  flex: 1;\n}\n\n.search-input {\n  width: 400px;\n  border: none;\n  border-bottom: 1px solid black;\n  outline: none;\n  background: none;\n}\n\n.search-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  max-width: fit-content;\n  align-items: center;\n  gap: 1rem;\n  margin: 0 auto;\n}\n\n.search-dropdown {\n  position: absolute;\n  top: calc(100% + 0.5rem);\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  width: 100%;\n  z-index: 1000;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.search-result-item {\n  text-align: left;\n  background: none;\n  border: none;\n  padding: 0.5rem;\n  cursor: pointer;\n}\n\n.search-result-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 5px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(6px);\n  -webkit-backdrop-filter: blur(6px);\n}\n\n.switch {\n  margin-left: auto;\n}\n\n.main {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n/* This is for the first section */\n.current-temperature-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.current-temperature-container > p {\n  text-transform: uppercase;\n}\n\n.city {\n  font-size: 3rem;\n}\n\n.current-weather {\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n}\n\n.current-weather img {\n  width: 8rem;\n}\n\n.current-temperature {\n  font-size: 6rem;\n}\n\n.description {\n  font-size: 1.25rem;\n}\n\n/* This is for the second section */\n.info-container {\n  display: flex;\n  justify-content: space-around;\n  gap: 2rem;\n}\n\n.info {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  text-align: left;\n}\n\n.info:nth-child(1) {\n  margin-left: 4rem;\n}\n\n.info:nth-child(2) {\n  margin-left: 2rem;\n}\n\n/* This is for the 3rd section. The summary */\n.summary-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.summary-head {\n  font-size: 1.25rem;\n}\n\n/* This is for the hourly toggle button */\n.hourly-toggle {\n  background: none;\n  border: 1px solid black;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  margin-top: 1rem;\n  border-radius: 0.25rem;\n}\n\n.hourly-toggle:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n/* This is for the hourly weather section */\n.hourly-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.hourly-head {\n  font-size: 1.25rem;\n}\n\n.hourly-scroll {\n  display: flex;\n  gap: 1rem;\n  overflow-x: auto;\n  padding: 0.5rem 0;\n}\n\n.hour-card {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n  min-width: 60px;\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n}\n\n.hour-card:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.hour-time {\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.hour-icon {\n  width: 2rem;\n  height: 2rem;\n}\n\n.hour-temp {\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.hour-precip {\n  font-size: 0.75rem;\n  color: #666;\n}\n\n/* Loading state */\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 200px;\n  font-size: 3rem;\n  color: #666;\n}\n\n/* This is for the 4th section. The forecast */\n.forecast-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.forecast-head {\n  font-size: 1.25rem;\n}\n\n.forecast-days {\n  display: flex;\n  justify-content: space-between;\n  gap: 2rem;\n}\n\n.forecast-day {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  transition: transform 0.2s ease-in-out;\n}\n\n.forecast-day:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.forecast-day:active {\n  transform: scale(0.96);\n}\n\n.forecast-day p {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n/* Mobile Responsiveness */\n@media (max-width: 768px) {\n  .container {\n    width: 95%;\n    margin: 1rem auto;\n    gap: 1.5rem;\n  }\n\n  .header {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: center;\n  }\n\n  .logo {\n    font-size: 2rem;\n    align-self: center;\n  }\n\n  .nav {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: center;\n  }\n\n  .search-input {\n    width: 280px;\n  }\n\n  .city {\n    font-size: 2rem;\n    text-align: center;\n  }\n\n  .current-weather {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .current-weather img {\n    width: 6rem;\n  }\n\n  .current-temperature {\n    font-size: 4rem;\n  }\n\n  .info-container {\n    justify-content: space-between;\n    gap: 1rem;\n    padding: 0 1rem;\n  }\n\n  .info:nth-child(1),\n  .info:nth-child(2) {\n    margin-left: 0;\n    flex: 1;\n  }\n\n  .info {\n    font-size: 0.875rem;\n  }\n\n  .forecast-days {\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 1rem;\n  }\n\n  .forecast-day {\n    min-width: 120px;\n  }\n\n  .hourly-scroll {\n    gap: 0.5rem;\n  }\n\n  .hour-card {\n    min-width: 50px;\n    padding: 0.25rem;\n  }\n\n  .loading {\n    font-size: 2rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .container {\n    width: 98%;\n    gap: 1rem;\n  }\n\n  .logo {\n    font-size: 1.5rem;\n  }\n\n  .search-input {\n    width: 250px;\n  }\n\n  .city {\n    font-size: 1.5rem;\n  }\n\n  .current-temperature {\n    font-size: 3rem;\n  }\n\n  .current-weather img {\n    width: 4rem;\n  }\n\n  .forecast-days {\n    gap: 0.5rem;\n  }\n\n  .forecast-day {\n    min-width: 100px;\n    font-size: 0.875rem;\n  }\n\n  .hour-card {\n    min-width: 45px;\n  }\n\n  .hour-time,\n  .hour-temp {\n    font-size: 0.75rem;\n  }\n\n  .hour-precip {\n    font-size: 0.625rem;\n  }\n\n  /* Show hourly by default on mobile, hide summary */\n  .hourly-container {\n    display: block !important;\n  }\n  \n  .summary-container {\n    display: none !important;\n  }\n  \n  .hourly-toggle {\n    display: none; /* Hide toggle button on mobile */\n  }\n}',""]);const c=i},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},430:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*, *::before, *::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\nimg, picture, video, canvas, svg {\n  display: block;\n  max-width: 100%;\n}\n\ninput, button, textarea, select {\n  font: inherit;\n}\n\np, h1, h2, h3, h4, h5, h6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\nh1, h2, h3, h4, h5, h6 {\n  text-wrap: balance;\n}\n\n#root, #__next {\n  isolation: isolate;\n}",""]);const c=i},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),c=t(659),s=t.n(c),d=t(56),l=t.n(d),p=t(540),m=t.n(p),u=t(113),h=t.n(u),f=t(430),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals;var y=t(208),w={};w.styleTagTransform=h(),w.setAttributes=l(),w.insert=s().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=m(),o()(y.A,w),y.A&&y.A.locals&&y.A.locals;const x={morning:["Expect a {condition} morning with temperatures starting around {min}°C-{max}°C.","The day begins {condition}, with early temperatures between {min}°C and {max}°C.","Morning hours will be {condition}, ranging from {min} to {max}°C.","Start your day with {condition} skies and comfortable {min}-{max}°C temperatures.","Dawn breaks with {condition} conditions and temps around {min}°C, rising to {max}°C.","Early risers will find {condition} weather with morning lows near {min}°C.","The sunrise brings {condition} skies and pleasant {min}°C-{max}°C temperatures."],afternoon:["By the afternoon, conditions will be {condition}, with highs near {max}°C.","The afternoon looks {condition}, as temperatures climb toward {max}°C.","Afternoon skies will be {condition}, with temps hovering between {min}°C-{max}°C.","Midday brings {condition} weather with peak temperatures reaching {max}°C.","The warmest part of the day features {condition} skies and {max}°C highs.","Lunch time will be {condition} with temperatures peaking around {max}°C.","Expect {condition} conditions throughout the afternoon with highs of {max}°C."],evening:["During the evening, expect {condition}, with temperatures easing to {min}°C-{max}°C.","The evening brings {condition}, and a {precip}% chance of rain.","As night approaches, {condition} skies dominate, with temps cooling to {min}°C.","Sunset hours feature {condition} weather as temperatures drop to {min}°C-{max}°C.","The evening will be {condition} with comfortable {min}°C-{max}°C temperatures.","As daylight fades, {condition} conditions persist with temps around {min}°C.","Dinner time brings {condition} skies and cooling temperatures near {min}°C."],night:["Overnight, temperatures will settle near {min}°C under {condition} skies.","The night will remain {condition}, with lows dipping to around {min}°C.","Skies overnight are expected to be {condition}, with temperatures falling to {min}°C.","Sleep tight under {condition} skies with overnight lows around {min}°C.","The late hours bring {condition} conditions and cool {min}°C temperatures.","Nighttime will be {condition} with temperatures settling near {min}°C.","Expect {condition} skies through the night as temps drop to {min}°C."],precipitation:["There's a {precip}% chance of rain.","Showers are possible with rain chances peaking at {precip}%.","Scattered showers could develop, bringing a {precip}% chance of rainfall.","Keep an umbrella handy with {precip}% rain probability.","Precipitation chances stand at {precip}% throughout the day.","Light showers may occur with a {precip}% likelihood of rain.","Weather models suggest a {precip}% chance of wet conditions."]};function b(e){if(0===e.length)return null;const n=e.map(e=>e.temp),t=Math.min(...n),r=Math.max(...n),o={};return e.forEach(e=>{const n=e.conditions;o[n]=(o[n]||0)+1}),{min:t,max:r,condition:Object.entries(o).sort((e,n)=>n[1]-e[1])[0][0],precip:Math.max(...e.map(e=>e.precipprob||0))}}function C(e){const n=x[e];return n&&0!==n.length?n[Math.floor(Math.random()*n.length)]:"Weather conditions are {condition} with temperatures around {min}-{max}°C."}function v(e,n,t="metric"){const r="metric"===t?"°C":"°F";return e.replace(/°C/g,r).replace("{condition}",n.condition.toLowerCase()).replace("{min}",n.min).replace("{max}",n.max).replace("{precip}",n.precip)}function E(e,n,t="metric"){if(!n)return"";let r=v(C(e),n,t);return n.precip>30&&(r+=" "+v(C("precipitation"),n,t)),r}function k(e,n="metric"){const{morning:t,afternoon:r,evening:o,night:a}=function(e){const n=function(e){const n=e.hours;return{morning:n.filter(e=>{const n=parseInt(e.datetime.split(":")[0],10);return n>=6&&n<12}),afternoon:n.filter(e=>{const n=parseInt(e.datetime.split(":")[0],10);return n>=12&&n<18}),evening:n.filter(e=>{const n=parseInt(e.datetime.split(":")[0],10);return n>=18&&n<24}),night:n.filter(e=>{const n=parseInt(e.datetime.split(":")[0],10);return n>=0&&n<6})}}(e);return{morning:b(n.morning),afternoon:b(n.afternoon),evening:b(n.evening),night:b(n.night)}}(e),i=[];return t&&i.push(E("morning",t,n)),r&&i.push(E("afternoon",r,n)),o&&i.push(E("evening",o,n)),a&&i.push(E("night",a,n)),i.join(" ")}function T(e){try{const n=e.datetime,t=e.temp,r=e.tempmax,o=e.tempmin,a=e.feelslike,i=e.humidity,c=e.windspeed,s=e.pressure,d=e.visibility,l=e.sunrise,p=e.sunset,m=e.conditions,u=e.description,h=e.moonphase,f=e.precipprob,g=e.icon;return{date:n,temperature:t,tempMax:r,tempMin:o,feelsLike:a,humidity:i,windSpeed:c,pressure:s,visibility:d,sunrise:l,sunset:p,conditions:m,description:u,moonphase:h,precipprob:f,icon:g,hours:e.hours,uvindex:e.uvindex}}catch(e){throw console.error("Error processing day's weather data:",e),e}}const S=t.p+"5bcbf34d07c837e20fcd.svg",M=t.p+"1f17f17f7ef319768886.svg",$=t.p+"e930a389fc48afb222ba.svg",N=t.p+"312e9c642481bfcf9652.svg",L=t.p+"443350964ba3159a52ea.svg",A=t.p+"a76a57430a946ab90b9f.svg",z=t.p+"c7ea1988429cce172057.svg",D=t.p+"f216ca56282efb3879b9.svg",H=t.p+"d9c5a97acd66bdba07be.svg",W=t.p+"3602b5e1322c0f9ca6e2.svg",j={snow:D,"snow-showers-day":D,"snow-showers-night":D,"thunder-rain":W,"thunder-showers-day":W,"thunder-showers-night":W,rain:z,"showers-day":$,"showers-night":$,fog:M,wind:t.p+"73b379ef29aa738e917f.svg",cloudy:S,"partly-cloudy-day":L,"partly-cloudy-night":A,"clear-day":H,"clear-night":H,clear:H,sunny:H,"partly cloudy":N,overcast:S,"light rain":$,"heavy rain":z,thunderstorm:W};function F(e){const n=e.toLowerCase();return j[n]||S}function P(e){const n=new Date(e+"T00:00:00"),t=new Date,r=new Date;r.setDate(t.getDate()+1);const o=n.toDateString(),a=t.toDateString(),i=r.toDateString();return o===a?"Today":o===i?"Tomorrow":n.toLocaleDateString("en-US",{weekday:"long"})}function q(e,n,t,r=!0){const o=document.createElement("section");o.className="current-temperature-container";const a=document.createElement("p");var i;a.className="city",a.textContent=r?n:`${n} - ${i=e.date,new Date(i+"T00:00:00").toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}`;const c=document.createElement("div");c.className="current-weather";const s=document.createElement("img");s.src=F(e.icon),s.alt=e.conditions,s.onerror=()=>{console.warn(`Failed to load image: ${s.src}`),s.style.display="none"};const d=document.createElement("p");if(d.className="current-temperature",r)d.textContent=`${Math.round(e.temperature)}${t}`;else{const n=Math.round((e.tempMax+e.tempMin)/2);d.textContent=`${n}${t}`}const l=document.createElement("p");l.className="description",l.textContent=e.conditions;const p=document.createElement("p");return p.className="feels-like",p.textContent=r?`Feels like ${Math.round(e.feelsLike)}${t}`:`High ${Math.round(e.tempMax)}${t} / Low ${Math.round(e.tempMin)}${t}`,c.appendChild(s),c.appendChild(d),o.appendChild(a),o.appendChild(c),o.appendChild(l),o.appendChild(p),o}function I(e,n="metric"){const t=document.createElement("section");t.className="info-container";const r=document.createElement("div");r.className="info";const o=document.createElement("div");o.className="info";const a=document.createElement("p");a.className="sunrise",a.textContent="Sunrise: ";const i=document.createElement("span");i.textContent=e.sunrise,a.appendChild(i);const c=document.createElement("p");c.className="temp-range",c.textContent="High/Low: ";const s=document.createElement("span");s.textContent=`${Math.round(e.tempMax)}°/${Math.round(e.tempMin)}°`,c.appendChild(s);const d=document.createElement("p");d.className="humidity",d.textContent="Humidity: ";const l=document.createElement("span");l.textContent=`${e.humidity}%`,d.appendChild(l);const p=document.createElement("p");p.className="pressure",p.textContent="Pressure: ";const m=document.createElement("span");m.textContent=`${e.pressure} mb`,p.appendChild(m);const u=document.createElement("p");u.className="visibility",u.textContent="Visibility: ";const h=document.createElement("span"),f="metric"===n?"km":"mi";h.textContent=`${e.visibility}${f}`,u.appendChild(h);const g=document.createElement("p");g.className="sunset",g.textContent="Sunset: ";const y=document.createElement("span");y.textContent=e.sunset,g.appendChild(y);const w=document.createElement("p");w.className="wind-speed",w.textContent="Wind-speed: ";const x=document.createElement("span"),b="metric"===n?"km/h":"mph";x.textContent=`${Math.round(e.windSpeed)}${b}`,w.appendChild(x);const C=document.createElement("p");C.className="precipitation",C.textContent="Precipitation: ";const v=document.createElement("span");v.textContent=`${e.precipprob}%`,C.appendChild(v);const E=document.createElement("p");E.className="uv-index",E.textContent="UV Index: ";const k=document.createElement("span");k.textContent=e.uvindex||"0",E.appendChild(k);const T=document.createElement("p");T.className="moon-phase",T.textContent="Moon Phase: ";const S=document.createElement("span");return S.textContent=function(e){const n=parseFloat(e);return 0===n?"New Moon":n>0&&n<.25?"Waxing Crescent":.25===n?"First Quarter":n>.25&&n<.5?"Waxing Gibbous":.5===n?"Full Moon":n>.5&&n<.75?"Waning Gibbous":.75===n?"Last Quarter":n>.75&&n<1?"Waning Crescent":"Unknown"}(e.moonphase),T.appendChild(S),r.appendChild(a),r.appendChild(c),r.appendChild(d),r.appendChild(p),r.appendChild(u),o.appendChild(g),o.appendChild(w),o.appendChild(C),o.appendChild(E),o.appendChild(T),t.appendChild(r),t.appendChild(o),t}function R(e,n){const t=document.createElement("section");t.className="hourly-container",t.style.display="none";const r=document.createElement("p");r.className="hourly-head",r.textContent="Hourly Forecast";const o=document.createElement("div");return o.className="hourly-scroll",e.forEach(e=>{const t=document.createElement("div");t.className="hour-card";const r=document.createElement("p");r.className="hour-time",r.textContent=e.datetime.slice(0,5);const a=document.createElement("img");a.src=F(e.icon),a.alt=e.conditions,a.className="hour-icon";const i=document.createElement("p");i.className="hour-temp",i.textContent=`${Math.round(e.temp)}${n}`;const c=document.createElement("p");c.className="hour-precip",c.textContent=`${e.precipprob}%`,t.appendChild(r),t.appendChild(a),t.appendChild(i),t.appendChild(c),o.appendChild(t)}),t.appendChild(r),t.appendChild(o),t}function U(e,n,t="metric"){const r=document.createElement("section");r.className="summary-container";const o=document.createElement("p");o.className="summary-head";const a=document.createElement("span");a.textContent=`${n}'s `,o.appendChild(a);const i=P(e.date);let c;c="Today"===i?"Weather Today":"Tomorrow"===i?"Weather Tomorrow":`Weather on ${i}`,o.appendChild(document.createTextNode(c));const s=document.createElement("p");s.className="summary-text",s.textContent=k(e,t);const d=document.createElement("button");return d.className="hourly-toggle",d.textContent="Show Hourly",d.setAttribute("aria-label","Toggle hourly weather forecast"),d.addEventListener("click",()=>{const e=document.querySelector(".hourly-container");"none"===e.style.display?(e.style.display="block",d.textContent="Hide Hourly",d.setAttribute("aria-label","Hide hourly weather forecast")):(e.style.display="none",d.textContent="Show Hourly",d.setAttribute("aria-label","Show hourly weather forecast"))}),r.appendChild(o),r.appendChild(s),r.appendChild(d),r}function O(e,n,t,r,o="metric"){const a=document.querySelector(".current-temperature-container"),i=document.querySelector(".info-container"),c=document.querySelector(".summary-container"),s=document.querySelector(".hourly-container");if("Today"===P(e.date)){const e=q(r,n,t,!0);a.replaceWith(e)}else{const r=q(e,n,t,!1);a.replaceWith(r)}const d=I(e,o);i.replaceWith(d);const l=U(e,n,o);c.replaceWith(l);const p=R(e.hours,t);s.replaceWith(p)}let V,B,G;const J=document.querySelector(".search-input"),Q=document.querySelector(".search-dropdown");async function _(e,n,t,r){try{document.querySelector(".main").innerHTML='<div class="loading">Loading weather data...</div>';const{currentWeather:o,fiveDaysWeather:a}=await async function(e=38.9697,n=-77.385,t="metric"){try{const r=await async function(e=43.6534817,n=-79.3839347,t="metric"){const r=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e},${n}?unitGroup=${t}&key=A6P5L4NJZV3YQCGV3RQ9892UR&contentType=json`;try{const e=await fetch(r,{mode:"cors"});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching weather data:",e),e}}(e,n,t),{currentConditions:o,fiveDays:a}=function(e){try{return{currentConditions:e.currentConditions,fiveDays:e.days.slice(0,5)}}catch(e){throw console.error("Error processing weather data:",e),e}}(r),i=[],c=T(o);return a.forEach(e=>{const n=T(e);n.summary=k(n),i.push(n)}),{currentWeather:c,fiveDaysWeather:i}}catch(e){throw console.error("Error processing weather data:",e),e}}(e,n,t);!function(e,n,t="metric",r){const o=document.querySelector(".main"),a=n[0],i="metric"===t?"°C":"°F";o.textContent="",o.appendChild(q(e,r,i)),o.appendChild(I(a,t)),o.appendChild(U(a,r,t)),o.appendChild(R(a.hours,i)),o.appendChild(function(e,n,t,r){const o=document.createElement("section");o.className="forecast-container";const a=document.createElement("p");a.className="forecast-head",a.textContent="5 Days Forecast";const i=document.createElement("div");return i.className="forecast-days",e.slice(0,5).forEach((e,o)=>{const a=document.createElement("div");a.className="forecast-day",a.style.cursor="pointer";const c=document.createElement("p");c.textContent=P(e.date)+" ";const s=document.createElement("span"),d=Math.round(e.tempMin),l=Math.round(e.tempMax);s.textContent=`${d}${n} / ${l}${n}`,c.appendChild(s);const p=document.createElement("img");p.src=F(e.icon),p.alt=e.conditions,p.onerror=()=>{console.warn(`Failed to load forecast image: ${p.src}`),p.style.display="none"},a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.setAttribute("aria-label",`View detailed weather for ${P(e.date)}`),a.addEventListener("click",()=>{O(e,t,n,r,"°C"===n?"metric":"us")}),a.addEventListener("keydown",o=>{"Enter"!==o.key&&" "!==o.key||(o.preventDefault(),O(e,t,n,r,"°C"===n?"metric":"us"))}),a.appendChild(c),a.appendChild(p),i.appendChild(a)}),o.appendChild(a),o.appendChild(i),o}(n,i,r,e))}(o,a,t,r)}catch(e){console.error("Failed to fetch weather data:",e)}}async function K(e){Q.innerHTML="",J.value="",B=e.dataset.lat,G=e.dataset.lon,V=e.dataset.name;const n="C"===document.querySelector('input[name="unit"]:checked').value?"metric":"us";await _(B,G,n,V)}const Y=function(e){let n;return function(){clearTimeout(n),n=setTimeout(e,300)}}(async function(){try{const e=J.value.trim();if(e.length<2)return void(Q.innerHTML="");const n=await async function(e){const n=`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5&appid=f7292488912c9c9e1b67b16547847121`;try{const e=await fetch(n,{mode:"cors"});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return(await e.json()).map(e=>({name:e.name,state:e.state,country:e.country,lat:e.lat,lon:e.lon}))}catch(e){throw console.error("Error fetching geolocation data:",e),e}}(e);!function(e){const n=document.querySelector(".search-dropdown");n.innerHTML="";try{if(0===e.length){const e=document.createElement("button");return e.classList.add("search-result-item"),e.disabled=!0,e.textContent="No results found",void n.appendChild(e)}e.forEach(e=>{const t=document.createElement("button");t.classList.add("search-result-item");const r=e.state?`${e.name}, ${e.state}, ${e.country}`:`${e.name}, ${e.country}`;t.textContent=r,t.setAttribute("aria-label",`Select ${r} for weather forecast`),t.dataset.lat=e.lat,t.dataset.lon=e.lon,t.dataset.name=e.name,n.appendChild(t)})}catch(e){console.error("Error rendering search results:",e)}}(n)}catch(e){console.error("Search failed:",e)}});J.addEventListener("input",Y),J.addEventListener("keydown",async e=>{if("Enter"===e.key){const e=Q.querySelector(".search-result-item");if(e&&!e.disabled)try{await K(e)}catch(e){console.error("Failed to load selected city:",e)}}}),Q.addEventListener("click",async e=>{if(e.target.classList.contains("search-result-item"))try{await K(e.target)}catch(e){console.error("Failed to load selected city:",e)}}),document.querySelectorAll('input[name="unit"]').forEach(e=>{e.addEventListener("change",async e=>{try{const n="C"===e.target.value?"metric":"us";await _(B,G,n,V)}catch(e){console.error("Failed to change units:",e)}})}),document.addEventListener("click",e=>{Q.contains(e.target)||J.contains(e.target)||(Q.innerHTML="")}),async function(){try{const e=await async function(){try{const e=await fetch("https://api.ipgeolocation.io/ipgeo?apiKey=060746928f4a4ddeaf4b755346b67f72",{mode:"cors"});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching geolocation data:",e),e}}();B=e.latitude,G=e.longitude,V=e.city,await _(B,G,"metric",V)}catch(e){console.error("Failed to initialize app:",e)}}()})();